<h2><%= title %></h2>

<%= form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
  <%= devise_error_messages! %>

  <div class="field">
    <%= f.label :username %><br />
    <%= f.hidden_field :username %>
    <%= resource.username %>
  </div>

  <div class="field">
    <%= f.label :password %><br />
    <%= f.hidden_field :password %>
    ********
  </div>

  <div class="actions">
    <%= f.submit t('.back'), name: 'form' %>
    <%- if resource.auth_with_email? %>
    <%= f.submit t('.send_confirmation_email'), name: 'auth_via_email' %>
    <% else %>
    <%= f.submit t('.auth_via_email'), name: 'email_form' %>
    <% end -%>
    <%= f.submit t('.auth_via_twitter'), name: 'auth_via_twitter' %>
    <%= f.submit t('.auth_via_facebook'), name: 'auth_via_facebook' %>
  </div>
<% end %>
<script>
document.onkeypress = function(e){
    var ref=e.target;
    if(e.key === 'Enter' && (ref.type == 'text' || ref.type == 'radio' || ref.type == 'checkbox' || ref.type == 'password')){
        return false;
    }
}
</script>
